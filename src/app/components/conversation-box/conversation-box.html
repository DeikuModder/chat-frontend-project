<form class="w-full flex flex-col items-center text-white h-full">
  <!-- This needs to change to chatId when backend is integrated -->
  @if (messages()?.length) {
  <div class="flex flex-col w-full h-full max-w-3xl">
    <!-- message container -->
    <div class="w-full p-8">
      <ul class="space-y-4">
        @for (m of messages()!; track m.id) {
        <li>
          <div
            class="p-4 rounded-2xl border w-fit"
            [ngClass]="
              m.sender === 'You'
                ? 'ml-auto text-right bg-indigo-800/50 border-indigo-700'
                : 'mr-auto text-left border-zinc-700 bg-zinc-800/50'
            "
          >
            <p class="text-sm text-zinc-300">
              <span class="font-medium">{{ m.sender }}:</span> {{ m.content }}
            </p>
            <p class="mt-1 text-xs text-zinc-500">{{ m.timestamp | date : 'shortTime' }}</p>
          </div>
        </li>
        }
      </ul>
    </div>

    <div class="w-full h-full flex flex-col justify-end p-8">
      <!-- Type message component -->
      <div
        class="flex items-center gap-2 w-full p-4 rounded-2xl bg-zinc-800/50 border border-zinc-700"
      >
        <input
          type="text"
          placeholder="Type your message..."
          class="flex-1 bg-transparent outline-none p-2 placeholder:text-white placeholder:opacity-50"
        />
        <button
          class="bg-linear-to-r from-blue-800 to-indigo-900 px-4 py-1 rounded-xl font-semibold cursor-pointer"
          type="submit"
        >
          Send
        </button>
      </div>
    </div>
  </div>
  } @else {
  <div class="flex flex-col items-center justify-center h-full text-zinc-500 gap-4">
    <svg
      class="h-16 w-16 text-zinc-600"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      viewBox="0 0 24 24"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"
      ></path>
    </svg>
    <p class="text-center">Select a chat to start messaging</p>
  </div>
  }
</form>
